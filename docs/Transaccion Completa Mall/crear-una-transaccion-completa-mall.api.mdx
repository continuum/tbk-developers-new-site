---
id: crear-una-transaccion-completa-mall
title: "Crear una Transacción Completa Mall"
description: "Para crear una Transacción Completa Mall basta llamar al método Transaction.create() Transaction.create() Completa Mall Permite inicializar una transacción Completa Mall en Webpay. Como respuesta a la invocación se genera un token que representa en forma única una transacción.Es importante considerar que una vez invocado este método, el token que es entregado tiene un periodo reducido de vida de 5 minutos, posterior a esto el token es caducado y no podrá ser utilizado en un pago."
sidebar_label: "Crear una Transacción Completa Mall"
hide_title: true
hide_table_of_contents: true
api: {"tags":["Transaccion Completa Mall"],"description":"Para crear una Transacción Completa Mall basta llamar al método Transaction.create() Transaction.create() Completa Mall Permite inicializar una transacción Completa Mall en Webpay. Como respuesta a la invocación se genera un token que representa en forma única una transacción.Es importante considerar que una vez invocado este método, el token que es entregado tiene un periodo reducido de vida de 5 minutos, posterior a esto el token es caducado y no podrá ser utilizado en un pago.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"buy_order":{"type":"string","description":"Es el código único de la orden de compra generada por el comercio mall. Largo máximo 26","maxLength":26},"session_id":{"type":"string","description":"Identificador de sesión, uso interno de comercio, este valor es devuelto al final de la transacción. Largo máximo 61","maxLength":61},"card_number":{"type":"string","description":"Número de la tarjeta con la que se debe hacer la transacción. Largo máximo 19","maxLength":19},"ccv":{"type":"string","description":"(Opcional) Código que se utiliza como método de seguridad en transacciones en las que la tarjeta no está físicamente presente. Largo máximo 4. No se debe enviar para comercios con la opción sin cvv habilitada.","maxLength":4},"card_expiration_date":{"type":"string","description":"Fecha de expiración de la tarjeta con la que se realiza la transacción. Largo máximo 5","maxLength":5},"details":{"type":"array","description":"Lista de objetos, uno por cada tienda diferente del mall que participa en la transacción.","items":{"type":"object","properties":{"amount":{"type":"number","description":"Monto de la transacción de una tienda del mall. Máximo 2 decimales para USD. Largo máximo 17.","format":"float"},"commerce_code":{"type":"string","description":"Código comercio asignado por Transbank para la tienda perteneciente al mall a la cual corresponde esta transacción. Largo 12.","minLength":12,"maxLength":12},"buy_order":{"type":"string","description":"Orden de compra de la tienda del mall. Este número debe ser único para cada transacción. Largo máximo 26. La orden de compra puede tener Números, letras, mayúsculas y minúsculas, y los signos |_=&%.,~:/?[+!@()>-. Largo máximo 26","maxLength":26}}}}},"example":{"buy_order":"ordenCompra12345678","session_id":"sesion1234564","card_number":"4239000000000000","cvv":123,"card_expiration_date":"22/10","details":[{"amount":10000,"commerce_code":"597055555552","buy_order":"123456789"},{"amount":10000,"commerce_code":"597055555553","buy_order":"123456790"}]}}}},"required":true},"responses":{"200":{"description":"(OK) La informacion de anulacion o reversa","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","description":"Token identificador de la transacción. Largo 64.","maxLength":64}},"example":{"token":"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3"}}}}},"400":{"description":"El mensaje JSON es inválido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado","content":{"application/json":{"schema":{"type":"object","properties":{"error_message":{"type":"string","example":"token is required"}}}}}},"401":{"description":"No autorizado. API Key y/o API Secret inválidos"},"404":{"description":"La transacción no ha sido encontrada"},"405":{"description":"Método no permitido"},"406":{"description":"No fue posible procesar la respuesta en el formato que el cliente indica"},"415":{"description":"Tipo de mensaje no permitido"},"422":{"description":"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por lógica de negocios"},"500":{"description":"Ha ocurrido un error inesperado"}},"method":"post","path":"/rswebpaytransaction/api/webpay/v1.2/transactions","servers":[{"url":"https://webpay3gint.transbank.cl"}],"security":[{"tbkApiKeyId":[],"tbkApiKeySecret":[]}],"securitySchemes":{"tbkApiKeyId":{"type":"apiKey","name":"Tbk-Api-Key-Id","in":"header","description":"Código de comercio"},"tbkApiKeySecret":{"type":"apiKey","name":"Tbk-Api-Key-Secret","in":"header","description":"LLave secreta"}},"jsonRequestBodyExample":{"buy_order":"ordenCompra12345678","session_id":"sesion1234564","card_number":"4239000000000000","cvv":123,"card_expiration_date":"22/10","details":[{"amount":10000,"commerce_code":"597055555552","buy_order":"123456789"},{"amount":10000,"commerce_code":"597055555553","buy_order":"123456790"}]},"info":{"title":"Transacción Completa Mall","description":"Este producto tiene requerimientos comerciales más estrictos que el resto de los productos. No inicies la integración si aún no completan la afiliación comercial..","termsOfService":"https://www.transbankdevelopers.cl/termino-y-condiciones","version":"1.0.0"},"postman":{"name":"Crear una Transacción Completa Mall","description":{"content":"Para crear una Transacción Completa Mall basta llamar al método Transaction.create() Transaction.create() Completa Mall Permite inicializar una transacción Completa Mall en Webpay. Como respuesta a la invocación se genera un token que representa en forma única una transacción.Es importante considerar que una vez invocado este método, el token que es entregado tiene un periodo reducido de vida de 5 minutos, posterior a esto el token es caducado y no podrá ser utilizado en un pago.","type":"text/plain"},"url":{"path":["rswebpaytransaction","api","webpay","v1.2","transactions"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: docs/Transaccion Completa Mall/transaccion-completa-mall
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Crear una Transacción Completa Mall



Para crear una Transacción Completa Mall basta llamar al método Transaction.create() Transaction.create() Completa Mall Permite inicializar una transacción Completa Mall en Webpay. Como respuesta a la invocación se genera un token que representa en forma única una transacción.Es importante considerar que una vez invocado este método, el token que es entregado tiene un periodo reducido de vida de 5 minutos, posterior a esto el token es caducado y no podrá ser utilizado en un pago.

<MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"buy_order"} required={false} deprecated={undefined} schemaDescription={"Es el código único de la orden de compra generada por el comercio mall. Largo máximo 26"} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 26 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"session_id"} required={false} deprecated={undefined} schemaDescription={"Identificador de sesión, uso interno de comercio, este valor es devuelto al final de la transacción. Largo máximo 61"} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 61 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"card_number"} required={false} deprecated={undefined} schemaDescription={"Número de la tarjeta con la que se debe hacer la transacción. Largo máximo 19"} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 19 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"ccv"} required={false} deprecated={undefined} schemaDescription={"(Opcional) Código que se utiliza como método de seguridad en transacciones en las que la tarjeta no está físicamente presente. Largo máximo 4. No se debe enviar para comercios con la opción sin cvv habilitada."} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 4 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"card_expiration_date"} required={false} deprecated={undefined} schemaDescription={"Fecha de expiración de la tarjeta con la que se realiza la transacción. Largo máximo 5"} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 5 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>details</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Lista de objetos, uno por cada tienda diferente del mall que participa en la transacción.

</div><SchemaItem collapsible={false} name={"amount"} required={false} deprecated={undefined} schemaDescription={"Monto de la transacción de una tienda del mall. Máximo 2 decimales para USD. Largo máximo 17."} schemaName={"float"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"commerce_code"} required={false} deprecated={undefined} schemaDescription={"Código comercio asignado por Transbank para la tienda perteneciente al mall a la cual corresponde esta transacción. Largo 12."} schemaName={"string"} qualifierMessage={"**Possible values:** `>= 12 characters` and `<= 12 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"buy_order"} required={false} deprecated={undefined} schemaDescription={"Orden de compra de la tienda del mall. Este número debe ser único para cada transacción. Largo máximo 26. La orden de compra puede tener Números, letras, mayúsculas y minúsculas, y los signos |_=&%.,~:/?[+!@()>-. Largo máximo 26"} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 26 characters`"} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

(OK) La informacion de anulacion o reversa

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"token"} required={false} deprecated={undefined} schemaDescription={"Token identificador de la transacción. Largo 64."} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 64 characters`"} defaultValue={undefined}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"token\": \"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>

El mensaje JSON es inválido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"error_message"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"error_message\": \"token is required\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"401"} value={"401"}><div>

No autorizado. API Key y/o API Secret inválidos

</div><div></div></TabItem><TabItem label={"404"} value={"404"}><div>

La transacción no ha sido encontrada

</div><div></div></TabItem><TabItem label={"405"} value={"405"}><div>

Método no permitido

</div><div></div></TabItem><TabItem label={"406"} value={"406"}><div>

No fue posible procesar la respuesta en el formato que el cliente indica

</div><div></div></TabItem><TabItem label={"415"} value={"415"}><div>

Tipo de mensaje no permitido

</div><div></div></TabItem><TabItem label={"422"} value={"422"}><div>

El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por lógica de negocios

</div><div></div></TabItem><TabItem label={"500"} value={"500"}><div>

Ha ocurrido un error inesperado

</div><div></div></TabItem></ApiTabs></div>
      