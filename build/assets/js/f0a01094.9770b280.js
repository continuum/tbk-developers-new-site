"use strict";(self.webpackChunktbk_developers=self.webpackChunktbk_developers||[]).push([[2777],{83495:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>y,contentTitle:()=>m,default:()=>h,frontMatter:()=>u,metadata:()=>b,toc:()=>v});var o=n(87462),r=(n(67294),n(3905)),t=n(26389),i=n(94891),s=n(75190),c=n(47507),l=n(24310),d=n(63303),p=(n(75035),n(85162));const u={id:"reversar-o-anular-una-transaccion",title:"Reversar o anular una transacci\xf3n",description:"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion",sidebar_label:"Reversar o anular una transacci\xf3n",hide_title:!0,hide_table_of_contents:!0,api:{tags:["Oneclick Mall"],description:"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion",parameters:[{name:"buyOrder",in:"path",required:!0,description:"Orden de compra de la transacci\xf3n a consultar (se env\xeda en la URL, no en el body).",schema:{type:"string",example:415034240}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{buy_order:{type:"string",description:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",maxLength:26},commerce_code:{type:"string",description:"Tienda hija que realizo\u0301 la transaccio\u0301n. Largo 12.",maxLength:12},amount:{type:"number",description:"Monto que se desea anular o reversar de la transaccio\u0301n. Largo ma\u0301ximo 17.Formato nu\u0301mero entero para transacciones en peso. S\xf3lo en caso de d\xf3lar acepta dos decimales.",format:"float"}},example:{buy_order:"415034240",commerce_code:"597055555552",amount:1e3}}}},required:!0},responses:{200:{description:"(OK) La informacion de anulacion o reversa",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Token identificador de la transaccio\u0301n. Largo 64.",maxLength:64}},example:{token:"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3"}}}}},400:{description:"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado",content:{"application/json":{schema:{type:"object",properties:{error_message:{type:"string",example:"token is required"}}}}}},401:{description:"No autorizado. API Key y/o API Secret inv\xe1lidos"},404:{description:"La transacci\xf3n no ha sido encontrada"},405:{description:"M\xe9todo no permitido"},406:{description:"No fue posible procesar la respuesta en el formato que el cliente indica"},415:{description:"Tipo de mensaje no permitido"},422:{description:"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios"},500:{description:"Ha ocurrido un error inesperado"}},method:"post",path:"/rswebpaytransaction/api/oneclick/v1.2/transactions/{buyOrder}/refunds",servers:[{url:"https://webpay3gint.transbank.cl"}],security:[{tbkApiKeyId:[],tbkApiKeySecret:[]}],securitySchemes:{tbkApiKeyId:{type:"apiKey",name:"Tbk-Api-Key-Id",in:"header",description:"C\xf3digo de comercio"},tbkApiKeySecret:{type:"apiKey",name:"Tbk-Api-Key-Secret",in:"header",description:"LLave secreta"}},jsonRequestBodyExample:{buy_order:"415034240",commerce_code:"597055555552",amount:1e3},info:{title:"Transacci\xf3n Completa Mall",description:"Este producto tiene requerimientos comerciales m\xe1s estrictos que el resto de los productos. No inicies la integraci\xf3n si a\xfan no completan la afiliaci\xf3n comercial..",termsOfService:"https://www.transbankdevelopers.cl/termino-y-condiciones",version:"1.0.0"},postman:{name:"Reversar o anular una transacci\xf3n",description:{content:"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion",type:"text/plain"},url:{path:["rswebpaytransaction","api","oneclick","v1.2","transactions",":buyOrder","refunds"],host:["{{baseUrl}}"],query:[],variable:[{disabled:!1,description:{content:"(Required) Orden de compra de la transacci\xf3n a consultar (se env\xeda en la URL, no en el body).",type:"text/plain"},type:"any",value:"",key:"buyOrder"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"post api-method",info_path:"docs/Transaccion Completa Mall/transaccion-completa-mall",custom_edit_url:null},m=void 0,b={unversionedId:"Transaccion Completa Mall/reversar-o-anular-una-transaccion",id:"Transaccion Completa Mall/reversar-o-anular-una-transaccion",title:"Reversar o anular una transacci\xf3n",description:"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion",source:"@site/docs/Transaccion Completa Mall/reversar-o-anular-una-transaccion.api.mdx",sourceDirName:"Transaccion Completa Mall",slug:"/Transaccion Completa Mall/reversar-o-anular-una-transaccion",permalink:"/tbk-developers-new-site/docs/Transaccion Completa Mall/reversar-o-anular-una-transaccion",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"reversar-o-anular-una-transaccion",title:"Reversar o anular una transacci\xf3n",description:"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion",sidebar_label:"Reversar o anular una transacci\xf3n",hide_title:!0,hide_table_of_contents:!0,api:{tags:["Oneclick Mall"],description:"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion",parameters:[{name:"buyOrder",in:"path",required:!0,description:"Orden de compra de la transacci\xf3n a consultar (se env\xeda en la URL, no en el body).",schema:{type:"string",example:415034240}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{buy_order:{type:"string",description:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",maxLength:26},commerce_code:{type:"string",description:"Tienda hija que realizo\u0301 la transaccio\u0301n. Largo 12.",maxLength:12},amount:{type:"number",description:"Monto que se desea anular o reversar de la transaccio\u0301n. Largo ma\u0301ximo 17.Formato nu\u0301mero entero para transacciones en peso. S\xf3lo en caso de d\xf3lar acepta dos decimales.",format:"float"}},example:{buy_order:"415034240",commerce_code:"597055555552",amount:1e3}}}},required:!0},responses:{200:{description:"(OK) La informacion de anulacion o reversa",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Token identificador de la transaccio\u0301n. Largo 64.",maxLength:64}},example:{token:"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3"}}}}},400:{description:"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado",content:{"application/json":{schema:{type:"object",properties:{error_message:{type:"string",example:"token is required"}}}}}},401:{description:"No autorizado. API Key y/o API Secret inv\xe1lidos"},404:{description:"La transacci\xf3n no ha sido encontrada"},405:{description:"M\xe9todo no permitido"},406:{description:"No fue posible procesar la respuesta en el formato que el cliente indica"},415:{description:"Tipo de mensaje no permitido"},422:{description:"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios"},500:{description:"Ha ocurrido un error inesperado"}},method:"post",path:"/rswebpaytransaction/api/oneclick/v1.2/transactions/{buyOrder}/refunds",servers:[{url:"https://webpay3gint.transbank.cl"}],security:[{tbkApiKeyId:[],tbkApiKeySecret:[]}],securitySchemes:{tbkApiKeyId:{type:"apiKey",name:"Tbk-Api-Key-Id",in:"header",description:"C\xf3digo de comercio"},tbkApiKeySecret:{type:"apiKey",name:"Tbk-Api-Key-Secret",in:"header",description:"LLave secreta"}},jsonRequestBodyExample:{buy_order:"415034240",commerce_code:"597055555552",amount:1e3},info:{title:"Transacci\xf3n Completa Mall",description:"Este producto tiene requerimientos comerciales m\xe1s estrictos que el resto de los productos. No inicies la integraci\xf3n si a\xfan no completan la afiliaci\xf3n comercial..",termsOfService:"https://www.transbankdevelopers.cl/termino-y-condiciones",version:"1.0.0"},postman:{name:"Reversar o anular una transacci\xf3n",description:{content:"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion",type:"text/plain"},url:{path:["rswebpaytransaction","api","oneclick","v1.2","transactions",":buyOrder","refunds"],host:["{{baseUrl}}"],query:[],variable:[{disabled:!1,description:{content:"(Required) Orden de compra de la transacci\xf3n a consultar (se env\xeda en la URL, no en el body).",type:"text/plain"},type:"any",value:"",key:"buyOrder"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"post api-method",info_path:"docs/Transaccion Completa Mall/transaccion-completa-mall",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Crear una Transacci\xf3n Completa Mall",permalink:"/tbk-developers-new-site/docs/Transaccion Completa Mall/crear-una-transaccion-completa-mall"},next:{title:"Introduction",permalink:"/tbk-developers-new-site/docs/WebpayPlus/api-transaccion-simple-webpay-plus"}},y={},v=[{value:"Reversar o anular una transacci\xf3n",id:"reversar-o-anular-una-transacci\xf3n",level:2}],k={toc:v};function h(e){let{components:a,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},k,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"reversar-o-anular-una-transacci\xf3n"},"Reversar o anular una transacci\xf3n"),(0,r.kt)("p",null,"Esta operaci\xf3n permite a todo comercio habilitado, reversar o anular una transacci\xf3n que fue generada en Oneclick.Puedes realizar un reembolso invocando al m\xe9todo refund(), dependiendo de algunas condiciones correspondera a una Reversa o Anulaci\xf3n. Puedes leer m\xe1s sobre la anulaci\xf3n en la informaci\xf3n del producto Webpay para conocer m\xe1s detalles y restricciones. ",(0,r.kt)("a",{parentName:"p",href:"http://www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion"},"www.transbankdevelopers.cl/documentacion/oneclick#capturar-una-transaccion")),(0,r.kt)("details",{style:{marginBottom:"1rem"},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{}},(0,r.kt)("strong",null,"Path Parameters")),(0,r.kt)("div",null,(0,r.kt)("ul",null,(0,r.kt)(s.Z,{className:"paramsItem",param:{name:"buyOrder",in:"path",required:!0,description:"Orden de compra de la transacci\xf3n a consultar (se env\xeda en la URL, no en el body).",schema:{type:"string",example:415034240}},mdxType:"ParamsItem"})))),(0,r.kt)(i.Z,{mdxType:"MimeTabs"},(0,r.kt)(p.Z,{label:"application/json",value:"application/json-schema",mdxType:"TabItem"},(0,r.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{textAlign:"left"}},(0,r.kt)("strong",null,"Request Body"),(0,r.kt)("strong",{style:{fontSize:"var(--ifm-code-font-size)",color:"var(--openapi-required)"}}," required")),(0,r.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,r.kt)("ul",{style:{marginLeft:"1rem"}},(0,r.kt)(l.Z,{collapsible:!1,name:"buy_order",required:!1,deprecated:void 0,schemaDescription:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",schemaName:"string",qualifierMessage:"**Possible values:** `<= 26 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(l.Z,{collapsible:!1,name:"commerce_code",required:!1,deprecated:void 0,schemaDescription:"Tienda hija que realizo\u0301 la transaccio\u0301n. Largo 12.",schemaName:"string",qualifierMessage:"**Possible values:** `<= 12 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(l.Z,{collapsible:!1,name:"amount",required:!1,deprecated:void 0,schemaDescription:"Monto que se desea anular o reversar de la transaccio\u0301n. Largo ma\u0301ximo 17.Formato nu\u0301mero entero para transacciones en peso. S\xf3lo en caso de d\xf3lar acepta dos decimales.",schemaName:"float",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"}))))),(0,r.kt)("div",null,(0,r.kt)(t.Z,{mdxType:"ApiTabs"},(0,r.kt)(p.Z,{label:"200",value:"200",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"(OK) La informacion de anulacion o reversa")),(0,r.kt)("div",null,(0,r.kt)(i.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,r.kt)(p.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,r.kt)(d.Z,{mdxType:"SchemaTabs"},(0,r.kt)(p.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,r.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{textAlign:"left"}},(0,r.kt)("strong",null,"Schema")),(0,r.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,r.kt)("ul",{style:{marginLeft:"1rem"}},(0,r.kt)(l.Z,{collapsible:!1,name:"token",required:!1,deprecated:void 0,schemaDescription:"Token identificador de la transaccio\u0301n. Largo 64.",schemaName:"string",qualifierMessage:"**Possible values:** `<= 64 characters`",defaultValue:void 0,mdxType:"SchemaItem"})))),(0,r.kt)(p.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,r.kt)(c.Z,{responseExample:'{\n  "token": "e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,r.kt)(p.Z,{label:"400",value:"400",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado")),(0,r.kt)("div",null,(0,r.kt)(i.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,r.kt)(p.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,r.kt)(d.Z,{mdxType:"SchemaTabs"},(0,r.kt)(p.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,r.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{textAlign:"left"}},(0,r.kt)("strong",null,"Schema")),(0,r.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,r.kt)("ul",{style:{marginLeft:"1rem"}},(0,r.kt)(l.Z,{collapsible:!1,name:"error_message",required:!1,deprecated:void 0,schemaDescription:void 0,schemaName:"string",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"})))),(0,r.kt)(p.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,r.kt)(c.Z,{responseExample:'{\n  "error_message": "token is required"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,r.kt)(p.Z,{label:"401",value:"401",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"No autorizado. API Key y/o API Secret inv\xe1lidos")),(0,r.kt)("div",null)),(0,r.kt)(p.Z,{label:"404",value:"404",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"La transacci\xf3n no ha sido encontrada")),(0,r.kt)("div",null)),(0,r.kt)(p.Z,{label:"405",value:"405",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"M\xe9todo no permitido")),(0,r.kt)("div",null)),(0,r.kt)(p.Z,{label:"406",value:"406",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"No fue posible procesar la respuesta en el formato que el cliente indica")),(0,r.kt)("div",null)),(0,r.kt)(p.Z,{label:"415",value:"415",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"Tipo de mensaje no permitido")),(0,r.kt)("div",null)),(0,r.kt)(p.Z,{label:"422",value:"422",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios")),(0,r.kt)("div",null)),(0,r.kt)(p.Z,{label:"500",value:"500",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"Ha ocurrido un error inesperado")),(0,r.kt)("div",null)))))}h.isMDXComponent=!0}}]);