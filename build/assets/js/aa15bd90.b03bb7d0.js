"use strict";(self.webpackChunktbk_developers=self.webpackChunktbk_developers||[]).push([[1780],{31214:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>b,contentTitle:()=>m,default:()=>h,frontMatter:()=>u,metadata:()=>y,toc:()=>k});var o=t(87462),r=(t(67294),t(3905)),i=t(26389),n=t(94891),c=t(75190),s=t(47507),d=t(24310),p=t(63303),l=(t(75035),t(85162));const u={id:"captura-diferida-transaccion-completa",title:"Captura diferida Transaccion Completa",description:"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",sidebar_label:"Captura diferida Transaccion Completa",hide_title:!0,hide_table_of_contents:!0,api:{tags:["Transaccion Completa"],description:"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",parameters:[{name:"token",in:"path",required:!0,description:"Token de la transaccio\u0301n",schema:{type:"string",minimum:64,maximum:64,example:"e9d555262db0f989e49d724b4db0b0af367cc415cde41f500a776550fc5fddd3"}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{buy_order:{type:"string",description:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",maxLength:26},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la transaccio\u0301n que se requiere capturar Largo maximo 6.",maxLength:6},capture_amount:{type:"number",description:"Monto que se desea capturar. Largo ma\u0301ximo 17.",format:"float"}},example:{buy_order:"415034240",authorization_code:"12345",capture_amount:1e3}}}},required:!0},responses:{200:{description:"(OK) La informacion de la transaccion caputarada",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Token de la transaccio\u0301n. Largo m\xe1ximo 64",maxLength:64},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la captura diferida. Largo m\xe1ximo 6",maxLength:6},authorization_date:{type:"string",description:"Fecha y hora de la autorizacio\u0301n."},captured_amount:{type:"number",description:"Monto capturado. Largo m\xe1ximo 6",format:"float"},response_code:{type:"integer",description:"C\xf3digo de resultado de la captura. Si es exitoso es 0,de lo contrario la captura no fue realizada. Largo m\xe1ximo 2"}},example:{token:"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3",authorization_code:"123456",authorization_date:"2019-03-20T20:18:20Z",captured_amount:1e3,response_code:0}}}}},400:{description:"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado",content:{"application/json":{schema:{type:"object",properties:{error_message:{type:"string",example:"token is required"}}}}}},401:{description:"No autorizado. API Key y/o API Secret inv\xe1lidos"},404:{description:"La transacci\xf3n no ha sido encontrada"},405:{description:"M\xe9todo no permitido"},406:{description:"No fue posible procesar la respuesta en el formato que el cliente indica"},415:{description:"Tipo de mensaje no permitido"},422:{description:"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios"},500:{description:"Ha ocurrido un error inesperado"}},method:"put",path:"/rswebpaytransaction/api/webpay/v1.2/transactions/{token}/capture",servers:[{url:"https://webpay3gint.transbank.cl"}],security:[{tbkApiKeyId:[],tbkApiKeySecret:[]}],securitySchemes:{tbkApiKeyId:{type:"apiKey",name:"Tbk-Api-Key-Id",in:"header",description:"C\xf3digo de comercio"},tbkApiKeySecret:{type:"apiKey",name:"Tbk-Api-Key-Secret",in:"header",description:"LLave secreta"}},jsonRequestBodyExample:{buy_order:"415034240",authorization_code:"12345",capture_amount:1e3},info:{title:"Transacci\xf3n Completa",description:"Este producto tiene requerimientos comerciales m\xe1s estrictos que el resto de los productos. No inicies la integraci\xf3n si a\xfan no completan la afiliaci\xf3n comercial..",termsOfService:"https://www.transbankdevelopers.cl/termino-y-condiciones",version:"1.0.0"},postman:{name:"Captura diferida Transaccion Completa",description:{content:"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",type:"text/plain"},url:{path:["rswebpaytransaction","api","webpay","v1.2","transactions",":token","capture"],host:["{{baseUrl}}"],query:[],variable:[{disabled:!1,description:{content:"(Required) Token de la transaccio\u0301n",type:"text/plain"},type:"any",value:"",key:"token"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"PUT",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"put api-method",info_path:"docs/Transaccion Completa/transaccion-completa",custom_edit_url:null},m=void 0,y={unversionedId:"Transaccion Completa/captura-diferida-transaccion-completa",id:"Transaccion Completa/captura-diferida-transaccion-completa",title:"Captura diferida Transaccion Completa",description:"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",source:"@site/docs/Transaccion Completa/captura-diferida-transaccion-completa.api.mdx",sourceDirName:"Transaccion Completa",slug:"/Transaccion Completa/captura-diferida-transaccion-completa",permalink:"/tbk-developers-new-site/docs/Transaccion Completa/captura-diferida-transaccion-completa",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"captura-diferida-transaccion-completa",title:"Captura diferida Transaccion Completa",description:"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",sidebar_label:"Captura diferida Transaccion Completa",hide_title:!0,hide_table_of_contents:!0,api:{tags:["Transaccion Completa"],description:"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",parameters:[{name:"token",in:"path",required:!0,description:"Token de la transaccio\u0301n",schema:{type:"string",minimum:64,maximum:64,example:"e9d555262db0f989e49d724b4db0b0af367cc415cde41f500a776550fc5fddd3"}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{buy_order:{type:"string",description:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",maxLength:26},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la transaccio\u0301n que se requiere capturar Largo maximo 6.",maxLength:6},capture_amount:{type:"number",description:"Monto que se desea capturar. Largo ma\u0301ximo 17.",format:"float"}},example:{buy_order:"415034240",authorization_code:"12345",capture_amount:1e3}}}},required:!0},responses:{200:{description:"(OK) La informacion de la transaccion caputarada",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Token de la transaccio\u0301n. Largo m\xe1ximo 64",maxLength:64},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la captura diferida. Largo m\xe1ximo 6",maxLength:6},authorization_date:{type:"string",description:"Fecha y hora de la autorizacio\u0301n."},captured_amount:{type:"number",description:"Monto capturado. Largo m\xe1ximo 6",format:"float"},response_code:{type:"integer",description:"C\xf3digo de resultado de la captura. Si es exitoso es 0,de lo contrario la captura no fue realizada. Largo m\xe1ximo 2"}},example:{token:"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3",authorization_code:"123456",authorization_date:"2019-03-20T20:18:20Z",captured_amount:1e3,response_code:0}}}}},400:{description:"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado",content:{"application/json":{schema:{type:"object",properties:{error_message:{type:"string",example:"token is required"}}}}}},401:{description:"No autorizado. API Key y/o API Secret inv\xe1lidos"},404:{description:"La transacci\xf3n no ha sido encontrada"},405:{description:"M\xe9todo no permitido"},406:{description:"No fue posible procesar la respuesta en el formato que el cliente indica"},415:{description:"Tipo de mensaje no permitido"},422:{description:"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios"},500:{description:"Ha ocurrido un error inesperado"}},method:"put",path:"/rswebpaytransaction/api/webpay/v1.2/transactions/{token}/capture",servers:[{url:"https://webpay3gint.transbank.cl"}],security:[{tbkApiKeyId:[],tbkApiKeySecret:[]}],securitySchemes:{tbkApiKeyId:{type:"apiKey",name:"Tbk-Api-Key-Id",in:"header",description:"C\xf3digo de comercio"},tbkApiKeySecret:{type:"apiKey",name:"Tbk-Api-Key-Secret",in:"header",description:"LLave secreta"}},jsonRequestBodyExample:{buy_order:"415034240",authorization_code:"12345",capture_amount:1e3},info:{title:"Transacci\xf3n Completa",description:"Este producto tiene requerimientos comerciales m\xe1s estrictos que el resto de los productos. No inicies la integraci\xf3n si a\xfan no completan la afiliaci\xf3n comercial..",termsOfService:"https://www.transbankdevelopers.cl/termino-y-condiciones",version:"1.0.0"},postman:{name:"Captura diferida Transaccion Completa",description:{content:"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",type:"text/plain"},url:{path:["rswebpaytransaction","api","webpay","v1.2","transactions",":token","capture"],host:["{{baseUrl}}"],query:[],variable:[{disabled:!1,description:{content:"(Required) Token de la transaccio\u0301n",type:"text/plain"},type:"any",value:"",key:"token"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"PUT",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"put api-method",info_path:"docs/Transaccion Completa/transaccion-completa",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/tbk-developers-new-site/docs/Transaccion Completa/transaccion-completa"},next:{title:"Confirmaci\xf3n de la transacci\xf3n",permalink:"/tbk-developers-new-site/docs/Transaccion Completa/confirmacion-de-la-transaccion"}},b={},k=[{value:"Captura diferida Transaccion Completa",id:"captura-diferida-transaccion-completa",level:2}],f={toc:k};function h(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},f,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"captura-diferida-transaccion-completa"},"Captura diferida Transaccion Completa"),(0,r.kt)("p",null,"Los comercios que est\xe1n configurados para operar con captura diferida deben ejecutar el m\xe9todo de captura para realizar el cargo al tarjetahabiente. Para realizar esa captura expl\xedcita debe usarse el m\xe9todo Transaction.capture() Transaction.capture()Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea."),(0,r.kt)("details",{style:{marginBottom:"1rem"},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{}},(0,r.kt)("strong",null,"Path Parameters")),(0,r.kt)("div",null,(0,r.kt)("ul",null,(0,r.kt)(c.Z,{className:"paramsItem",param:{name:"token",in:"path",required:!0,description:"Token de la transaccio\u0301n",schema:{type:"string",minimum:64,maximum:64,example:"e9d555262db0f989e49d724b4db0b0af367cc415cde41f500a776550fc5fddd3"}},mdxType:"ParamsItem"})))),(0,r.kt)(n.Z,{mdxType:"MimeTabs"},(0,r.kt)(l.Z,{label:"application/json",value:"application/json-schema",mdxType:"TabItem"},(0,r.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{textAlign:"left"}},(0,r.kt)("strong",null,"Request Body"),(0,r.kt)("strong",{style:{fontSize:"var(--ifm-code-font-size)",color:"var(--openapi-required)"}}," required")),(0,r.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,r.kt)("ul",{style:{marginLeft:"1rem"}},(0,r.kt)(d.Z,{collapsible:!1,name:"buy_order",required:!1,deprecated:void 0,schemaDescription:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",schemaName:"string",qualifierMessage:"**Possible values:** `<= 26 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(d.Z,{collapsible:!1,name:"authorization_code",required:!1,deprecated:void 0,schemaDescription:"Co\u0301digo de autorizacio\u0301n de la transaccio\u0301n que se requiere capturar Largo maximo 6.",schemaName:"string",qualifierMessage:"**Possible values:** `<= 6 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(d.Z,{collapsible:!1,name:"capture_amount",required:!1,deprecated:void 0,schemaDescription:"Monto que se desea capturar. Largo ma\u0301ximo 17.",schemaName:"float",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"}))))),(0,r.kt)("div",null,(0,r.kt)(i.Z,{mdxType:"ApiTabs"},(0,r.kt)(l.Z,{label:"200",value:"200",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"(OK) La informacion de la transaccion caputarada")),(0,r.kt)("div",null,(0,r.kt)(n.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,r.kt)(l.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,r.kt)(p.Z,{mdxType:"SchemaTabs"},(0,r.kt)(l.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,r.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{textAlign:"left"}},(0,r.kt)("strong",null,"Schema")),(0,r.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,r.kt)("ul",{style:{marginLeft:"1rem"}},(0,r.kt)(d.Z,{collapsible:!1,name:"token",required:!1,deprecated:void 0,schemaDescription:"Token de la transaccio\u0301n. Largo m\xe1ximo 64",schemaName:"string",qualifierMessage:"**Possible values:** `<= 64 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(d.Z,{collapsible:!1,name:"authorization_code",required:!1,deprecated:void 0,schemaDescription:"Co\u0301digo de autorizacio\u0301n de la captura diferida. Largo m\xe1ximo 6",schemaName:"string",qualifierMessage:"**Possible values:** `<= 6 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(d.Z,{collapsible:!1,name:"authorization_date",required:!1,deprecated:void 0,schemaDescription:"Fecha y hora de la autorizacio\u0301n.",schemaName:"string",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(d.Z,{collapsible:!1,name:"captured_amount",required:!1,deprecated:void 0,schemaDescription:"Monto capturado. Largo m\xe1ximo 6",schemaName:"float",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"}),(0,r.kt)(d.Z,{collapsible:!1,name:"response_code",required:!1,deprecated:void 0,schemaDescription:"C\xf3digo de resultado de la captura. Si es exitoso es 0,de lo contrario la captura no fue realizada. Largo m\xe1ximo 2",schemaName:"integer",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"})))),(0,r.kt)(l.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,r.kt)(s.Z,{responseExample:'{\n  "token": "e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3",\n  "authorization_code": "123456",\n  "authorization_date": "2019-03-20T20:18:20Z",\n  "captured_amount": 1000,\n  "response_code": 0\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,r.kt)(l.Z,{label:"400",value:"400",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado")),(0,r.kt)("div",null,(0,r.kt)(n.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,r.kt)(l.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,r.kt)(p.Z,{mdxType:"SchemaTabs"},(0,r.kt)(l.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,r.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,r.kt)("summary",{style:{textAlign:"left"}},(0,r.kt)("strong",null,"Schema")),(0,r.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,r.kt)("ul",{style:{marginLeft:"1rem"}},(0,r.kt)(d.Z,{collapsible:!1,name:"error_message",required:!1,deprecated:void 0,schemaDescription:void 0,schemaName:"string",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"})))),(0,r.kt)(l.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,r.kt)(s.Z,{responseExample:'{\n  "error_message": "token is required"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,r.kt)(l.Z,{label:"401",value:"401",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"No autorizado. API Key y/o API Secret inv\xe1lidos")),(0,r.kt)("div",null)),(0,r.kt)(l.Z,{label:"404",value:"404",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"La transacci\xf3n no ha sido encontrada")),(0,r.kt)("div",null)),(0,r.kt)(l.Z,{label:"405",value:"405",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"M\xe9todo no permitido")),(0,r.kt)("div",null)),(0,r.kt)(l.Z,{label:"406",value:"406",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"No fue posible procesar la respuesta en el formato que el cliente indica")),(0,r.kt)("div",null)),(0,r.kt)(l.Z,{label:"415",value:"415",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"Tipo de mensaje no permitido")),(0,r.kt)("div",null)),(0,r.kt)(l.Z,{label:"422",value:"422",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios")),(0,r.kt)("div",null)),(0,r.kt)(l.Z,{label:"500",value:"500",mdxType:"TabItem"},(0,r.kt)("div",null,(0,r.kt)("p",null,"Ha ocurrido un error inesperado")),(0,r.kt)("div",null)))))}h.isMDXComponent=!0}}]);