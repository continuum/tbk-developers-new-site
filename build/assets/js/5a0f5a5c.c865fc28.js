"use strict";(self.webpackChunktbk_developers=self.webpackChunktbk_developers||[]).push([[7422],{95396:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>b,contentTitle:()=>m,default:()=>h,frontMatter:()=>u,metadata:()=>y,toc:()=>k});var i=t(87462),o=(t(67294),t(3905)),r=t(26389),n=t(94891),s=t(75190),c=t(47507),d=t(24310),p=t(63303),l=(t(75035),t(85162));const u={id:"capturar-una-transaccion",title:"Capturar una transacci\xf3n",description:"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",sidebar_label:"Capturar una transacci\xf3n",hide_title:!0,hide_table_of_contents:!0,api:{tags:["transacciones"],description:"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",parameters:[{name:"token",in:"path",required:!0,description:"Token de la transaccio\u0301n",schema:{type:"string",minimum:64,maximum:64,example:"e9d555262db0f989e49d724b4db0b0af367cc415cde41f500a776550fc5fddd3"}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{buy_oder:{type:"string",description:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",maxLength:26,example:415034240},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la transaccio\u0301n que se requiere capturar Largo ma\u0301ximo 6.",maxLength:6,example:123456},captured_amount:{type:"number",description:"Monto que se desea capturar. Largo ma\u0301ximo 17.",format:"float",example:1e3}}}}},required:!0},responses:{200:{description:"(OK) El resultado de la captura",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Token de la transaccio\u0301n. Largo m\xe1ximo 64",maxLength:64,example:"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3"},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la captura diferida. Largo m\xe1ximo 6",maxLength:6,example:123456},authorization_date:{type:"string",description:"Fecha y hora de la autorizacio\u0301n.",example:"2019-03-20T20:18:20Z"},captured_amount:{type:"number",description:"Monto capturado. Largo m\xe1ximo 6",format:"float",maximum:999999,example:1e3},response_code:{type:"number",description:"C\xf3digo de resultado de la captura. Si es exitoso es 0,de lo contrario la captura no fue realizada. Largo m\xe1ximo 2",example:0}}}}}},400:{description:"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado",content:{"application/json":{schema:{type:"object",properties:{error_message:{type:"string",example:"token is required"}}}}}},401:{description:"No autorizado. API Key y/o API Secret inv\xe1lidos"},404:{description:"La transacci\xf3n no ha sido encontrada"},405:{description:"M\xe9todo no permitido"},406:{description:"No fue posible procesar la respuesta en el formato que el cliente indica"},415:{description:"Tipo de mensaje no permitido"},422:{description:"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios"},500:{description:"Ha ocurrido un error inesperado"}},method:"put",path:"/rswebpaytransaction/api/webpay/v1.2/transactions/{token}/capture",servers:[{url:"https://webpay3gint.transbank.cl"}],security:[{tbkApiKeyId:[],tbkApiKeySecret:[]}],securitySchemes:{tbkApiKeyId:{type:"apiKey",name:"Tbk-Api-Key-Id",in:"header",description:"C\xf3digo de comercio"},tbkApiKeySecret:{type:"apiKey",name:"Tbk-Api-Key-Secret",in:"header",description:"LLave secreta"}},jsonRequestBodyExample:{buy_oder:415034240,authorization_code:123456,captured_amount:1e3},info:{title:"API Transaccion simple - WebPay Plus",description:"Una transaccio\u0301n de autorizacio\u0301n normal (o transaccio\u0301n normal), corresponde a una solicitud de autorizacio\u0301n financiera de un pago con tarjetas de cre\u0301dito o de\u0301bito, en donde quie\u0301n realiza el pago ingresa al sitio del comercio, selecciona productos o servicio, y el ingreso asociado a los datos de la tarjeta de cre\u0301dito, de\u0301bito o prepago lo realiza en forma segura en Webpay.",termsOfService:"https://www.transbankdevelopers.cl/termino-y-condiciones",version:"1.0.0"},postman:{name:"Capturar una transacci\xf3n",description:{content:"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",type:"text/plain"},url:{path:["rswebpaytransaction","api","webpay","v1.2","transactions",":token","capture"],host:["{{baseUrl}}"],query:[],variable:[{disabled:!1,description:{content:"(Required) Token de la transaccio\u0301n",type:"text/plain"},type:"any",value:"",key:"token"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"PUT",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"put api-method",info_path:"docs/WebpayPlus/api-transaccion-simple-webpay-plus",custom_edit_url:null},m=void 0,y={unversionedId:"WebpayPlus/capturar-una-transaccion",id:"WebpayPlus/capturar-una-transaccion",title:"Capturar una transacci\xf3n",description:"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",source:"@site/docs/WebpayPlus/capturar-una-transaccion.api.mdx",sourceDirName:"WebpayPlus",slug:"/WebpayPlus/capturar-una-transaccion",permalink:"/tbk-developers-new-site/docs/WebpayPlus/capturar-una-transaccion",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"capturar-una-transaccion",title:"Capturar una transacci\xf3n",description:"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",sidebar_label:"Capturar una transacci\xf3n",hide_title:!0,hide_table_of_contents:!0,api:{tags:["transacciones"],description:"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",parameters:[{name:"token",in:"path",required:!0,description:"Token de la transaccio\u0301n",schema:{type:"string",minimum:64,maximum:64,example:"e9d555262db0f989e49d724b4db0b0af367cc415cde41f500a776550fc5fddd3"}}],requestBody:{content:{"application/json":{schema:{type:"object",properties:{buy_oder:{type:"string",description:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",maxLength:26,example:415034240},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la transaccio\u0301n que se requiere capturar Largo ma\u0301ximo 6.",maxLength:6,example:123456},captured_amount:{type:"number",description:"Monto que se desea capturar. Largo ma\u0301ximo 17.",format:"float",example:1e3}}}}},required:!0},responses:{200:{description:"(OK) El resultado de la captura",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Token de la transaccio\u0301n. Largo m\xe1ximo 64",maxLength:64,example:"e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3"},authorization_code:{type:"string",description:"Co\u0301digo de autorizacio\u0301n de la captura diferida. Largo m\xe1ximo 6",maxLength:6,example:123456},authorization_date:{type:"string",description:"Fecha y hora de la autorizacio\u0301n.",example:"2019-03-20T20:18:20Z"},captured_amount:{type:"number",description:"Monto capturado. Largo m\xe1ximo 6",format:"float",maximum:999999,example:1e3},response_code:{type:"number",description:"C\xf3digo de resultado de la captura. Si es exitoso es 0,de lo contrario la captura no fue realizada. Largo m\xe1ximo 2",example:0}}}}}},400:{description:"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado",content:{"application/json":{schema:{type:"object",properties:{error_message:{type:"string",example:"token is required"}}}}}},401:{description:"No autorizado. API Key y/o API Secret inv\xe1lidos"},404:{description:"La transacci\xf3n no ha sido encontrada"},405:{description:"M\xe9todo no permitido"},406:{description:"No fue posible procesar la respuesta en el formato que el cliente indica"},415:{description:"Tipo de mensaje no permitido"},422:{description:"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios"},500:{description:"Ha ocurrido un error inesperado"}},method:"put",path:"/rswebpaytransaction/api/webpay/v1.2/transactions/{token}/capture",servers:[{url:"https://webpay3gint.transbank.cl"}],security:[{tbkApiKeyId:[],tbkApiKeySecret:[]}],securitySchemes:{tbkApiKeyId:{type:"apiKey",name:"Tbk-Api-Key-Id",in:"header",description:"C\xf3digo de comercio"},tbkApiKeySecret:{type:"apiKey",name:"Tbk-Api-Key-Secret",in:"header",description:"LLave secreta"}},jsonRequestBodyExample:{buy_oder:415034240,authorization_code:123456,captured_amount:1e3},info:{title:"API Transaccion simple - WebPay Plus",description:"Una transaccio\u0301n de autorizacio\u0301n normal (o transaccio\u0301n normal), corresponde a una solicitud de autorizacio\u0301n financiera de un pago con tarjetas de cre\u0301dito o de\u0301bito, en donde quie\u0301n realiza el pago ingresa al sitio del comercio, selecciona productos o servicio, y el ingreso asociado a los datos de la tarjeta de cre\u0301dito, de\u0301bito o prepago lo realiza en forma segura en Webpay.",termsOfService:"https://www.transbankdevelopers.cl/termino-y-condiciones",version:"1.0.0"},postman:{name:"Capturar una transacci\xf3n",description:{content:"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea.",type:"text/plain"},url:{path:["rswebpaytransaction","api","webpay","v1.2","transactions",":token","capture"],host:["{{baseUrl}}"],query:[],variable:[{disabled:!1,description:{content:"(Required) Token de la transaccio\u0301n",type:"text/plain"},type:"any",value:"",key:"token"}]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"PUT",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"put api-method",info_path:"docs/WebpayPlus/api-transaccion-simple-webpay-plus",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/tbk-developers-new-site/docs/WebpayPlus/api-transaccion-simple-webpay-plus"},next:{title:"Confirmar una transacci\xf3n",permalink:"/tbk-developers-new-site/docs/WebpayPlus/confirmar-una-transaccion"}},b={},k=[{value:"Capturar una transacci\xf3n",id:"capturar-una-transacci\xf3n",level:2}],g={toc:k};function h(e){let{components:a,...t}=e;return(0,o.kt)("wrapper",(0,i.Z)({},g,t,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"capturar-una-transacci\xf3n"},"Capturar una transacci\xf3n"),(0,o.kt)("p",null,"Permite solicitar a Webpay la captura diferida de una transaccio\u0301n con autorizacio\u0301n y sin captura simulta\u0301nea."),(0,o.kt)("details",{style:{marginBottom:"1rem"},"data-collapsed":!1,open:!0},(0,o.kt)("summary",{style:{}},(0,o.kt)("strong",null,"Path Parameters")),(0,o.kt)("div",null,(0,o.kt)("ul",null,(0,o.kt)(s.Z,{className:"paramsItem",param:{name:"token",in:"path",required:!0,description:"Token de la transaccio\u0301n",schema:{type:"string",minimum:64,maximum:64,example:"e9d555262db0f989e49d724b4db0b0af367cc415cde41f500a776550fc5fddd3"}},mdxType:"ParamsItem"})))),(0,o.kt)(n.Z,{mdxType:"MimeTabs"},(0,o.kt)(l.Z,{label:"application/json",value:"application/json-schema",mdxType:"TabItem"},(0,o.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,o.kt)("summary",{style:{textAlign:"left"}},(0,o.kt)("strong",null,"Request Body"),(0,o.kt)("strong",{style:{fontSize:"var(--ifm-code-font-size)",color:"var(--openapi-required)"}}," required")),(0,o.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,o.kt)("ul",{style:{marginLeft:"1rem"}},(0,o.kt)(d.Z,{collapsible:!1,name:"buy_oder",required:!1,deprecated:void 0,schemaDescription:"Orden de compra de la transaccio\u0301n que se requiere capturar. Largo ma\u0301ximo 26.",schemaName:"string",qualifierMessage:"**Possible values:** `<= 26 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,o.kt)(d.Z,{collapsible:!1,name:"authorization_code",required:!1,deprecated:void 0,schemaDescription:"Co\u0301digo de autorizacio\u0301n de la transaccio\u0301n que se requiere capturar Largo ma\u0301ximo 6.",schemaName:"string",qualifierMessage:"**Possible values:** `<= 6 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,o.kt)(d.Z,{collapsible:!1,name:"captured_amount",required:!1,deprecated:void 0,schemaDescription:"Monto que se desea capturar. Largo ma\u0301ximo 17.",schemaName:"float",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"}))))),(0,o.kt)("div",null,(0,o.kt)(r.Z,{mdxType:"ApiTabs"},(0,o.kt)(l.Z,{label:"200",value:"200",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"(OK) El resultado de la captura")),(0,o.kt)("div",null,(0,o.kt)(n.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,o.kt)(l.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,o.kt)(p.Z,{mdxType:"SchemaTabs"},(0,o.kt)(l.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,o.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,o.kt)("summary",{style:{textAlign:"left"}},(0,o.kt)("strong",null,"Schema")),(0,o.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,o.kt)("ul",{style:{marginLeft:"1rem"}},(0,o.kt)(d.Z,{collapsible:!1,name:"token",required:!1,deprecated:void 0,schemaDescription:"Token de la transaccio\u0301n. Largo m\xe1ximo 64",schemaName:"string",qualifierMessage:"**Possible values:** `<= 64 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,o.kt)(d.Z,{collapsible:!1,name:"authorization_code",required:!1,deprecated:void 0,schemaDescription:"Co\u0301digo de autorizacio\u0301n de la captura diferida. Largo m\xe1ximo 6",schemaName:"string",qualifierMessage:"**Possible values:** `<= 6 characters`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,o.kt)(d.Z,{collapsible:!1,name:"authorization_date",required:!1,deprecated:void 0,schemaDescription:"Fecha y hora de la autorizacio\u0301n.",schemaName:"string",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"}),(0,o.kt)(d.Z,{collapsible:!1,name:"captured_amount",required:!1,deprecated:void 0,schemaDescription:"Monto capturado. Largo m\xe1ximo 6",schemaName:"float",qualifierMessage:"**Possible values:** `<= 999999`",defaultValue:void 0,mdxType:"SchemaItem"}),(0,o.kt)(d.Z,{collapsible:!1,name:"response_code",required:!1,deprecated:void 0,schemaDescription:"C\xf3digo de resultado de la captura. Si es exitoso es 0,de lo contrario la captura no fue realizada. Largo m\xe1ximo 2",schemaName:"number",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"})))),(0,o.kt)(l.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,o.kt)(c.Z,{responseExample:'{\n  "token": "e074d38c628122c63e5c0986368ece22974d6fee1440617d85873b7b4efa48a3",\n  "authorization_code": 123456,\n  "authorization_date": "2019-03-20T20:18:20Z",\n  "captured_amount": 1000,\n  "response_code": 0\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,o.kt)(l.Z,{label:"400",value:"400",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"El mensaje JSON es inv\xe1lido. Puedes ser que no corresponda a un mensaje bien estructurado o que contenga un campo no esperado")),(0,o.kt)("div",null,(0,o.kt)(n.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,o.kt)(l.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,o.kt)(p.Z,{mdxType:"SchemaTabs"},(0,o.kt)(l.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,o.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,o.kt)("summary",{style:{textAlign:"left"}},(0,o.kt)("strong",null,"Schema")),(0,o.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,o.kt)("ul",{style:{marginLeft:"1rem"}},(0,o.kt)(d.Z,{collapsible:!1,name:"error_message",required:!1,deprecated:void 0,schemaDescription:void 0,schemaName:"string",qualifierMessage:void 0,defaultValue:void 0,mdxType:"SchemaItem"})))),(0,o.kt)(l.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,o.kt)(c.Z,{responseExample:'{\n  "error_message": "token is required"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,o.kt)(l.Z,{label:"401",value:"401",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"No autorizado. API Key y/o API Secret inv\xe1lidos")),(0,o.kt)("div",null)),(0,o.kt)(l.Z,{label:"404",value:"404",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"La transacci\xf3n no ha sido encontrada")),(0,o.kt)("div",null)),(0,o.kt)(l.Z,{label:"405",value:"405",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"M\xe9todo no permitido")),(0,o.kt)("div",null)),(0,o.kt)(l.Z,{label:"406",value:"406",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"No fue posible procesar la respuesta en el formato que el cliente indica")),(0,o.kt)("div",null)),(0,o.kt)(l.Z,{label:"415",value:"415",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"Tipo de mensaje no permitido")),(0,o.kt)("div",null)),(0,o.kt)(l.Z,{label:"422",value:"422",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"El requerimiento no ha podido ser procesado ya sea por validaciones de datos o por l\xf3gica de negocios")),(0,o.kt)("div",null)),(0,o.kt)(l.Z,{label:"500",value:"500",mdxType:"TabItem"},(0,o.kt)("div",null,(0,o.kt)("p",null,"Ha ocurrido un error inesperado")),(0,o.kt)("div",null)))))}h.isMDXComponent=!0}}]);